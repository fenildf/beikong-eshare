- content_for :header do
  %h1 发布新公告

.page-course-form
  .pblock.form{:style => 'margin-top:-16px;padding-bottom:20px;'}
    = simple_form_for @announcement, :url => '/manage/announcements' do |f|
      = f.input :title, :input_html => {:class => :xxlarge}
      = f.input :content, :input_html => {:rows => 10, :class => :xxlarge}

      :ruby
        on_top = [
          ['否', 0], 
          ['是', 1],
        ]

      - if current_user.is_teacher?
        .input{:style => 'margin-bottom:20px;'}
          %label 选择课程
          = f.input :host_id, :label => false, :include_blank => false, :collection => current_user.own_courses

      .input{:style => 'margin-bottom:20px;'}
        %label 是否置顶
        = f.select :on_top, on_top, :label => '是否置顶'

      %a.btn.success-flat.do-submit{:href => 'javascript:;'}
        %i.icon-ok
        %span 创建公告

      %a.btn.cancel.gray-flat{:href => '/manage/announcements'}
        %i.icon-arrow-left
        %span= t('common.form.cancel')